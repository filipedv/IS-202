@model OBLIG1.Controllers.LoginVm
@{
    // Parametre som hver view kan sette
    var role = (string?)ViewData["Role"] ?? "Pilot";
    var postAction = (string?)ViewData["PostAction"] ?? "PilotLogin";
    var showAltButtons = (ViewData["ShowAltButtons"] as bool?) ?? true;
}

<div class="hero">
    <div class="login-card" role="dialog" aria-labelledby="authTitle" aria-describedby="authDesc">
        <h2 id="authTitle" style="margin:0 0 4px 0;">Welcome</h2>
        <p id="authDesc" class="muted" style="margin:0 0 16px 0;">Log in as <strong>@role</strong></p>

        <form asp-action="@postAction" method="post" asp-antiforgery="true" novalidate>
            <div asp-validation-summary="ModelOnly" class="text-danger" style="margin-bottom:8px;"></div>

            <div class="field">
                <label asp-for="Email"></label>
                <input asp-for="Email" autocomplete="username" />
                <span asp-validation-for="Email" class="text-danger"></span>
            </div>

            <div class="field">
                <label asp-for="Password"></label>
                <input asp-for="Password" autocomplete="current-password" />
                <span asp-validation-for="Password" class="text-danger"></span>
            </div>

            <button type="submit" class="btn-primary btn-block">Log in</button>
        </form>

        <hr style="margin:18px 0; border:none; border-top:1px solid #e5e7eb;" />

        @if (showAltButtons)
        {
            <!-- Landingssiden: to valg -->
            <div class="rowgap">
                <a asp-controller="Auth" asp-action="Registerforer" class="btn-secondary btn-block">Log in as Registerf√∏rer</a>
                <a asp-controller="Auth" asp-action="Admin"         class="btn-secondary btn-block">Log in as Admin</a>
            </div>
        }
        else
        {
            <!-- Undersider: tilbake-knapp -->
            <div class="rowgap">
                <a asp-controller="Auth" asp-action="Index" class="btn-secondary btn-block">Tilbake</a>
            </div>
        }
    </div>
</div>

@section Scripts { <partial name="_ValidationScriptsPartial" /> }