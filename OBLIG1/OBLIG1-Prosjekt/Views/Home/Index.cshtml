@{
    ViewData["Title"] = "Home Page";
    ViewData["HideChrome"] = true;
}

<div class="with-action-footer">
    <div class="home-section rounded shadow-sm">
        <div id="map" class="home-map w-100"></div>
    </div>
</div>

@section PageFooter {
    <div class="position-relative w-100">
        @* VENSTRE: Logout-knapp *@
        @if (User.Identity?.IsAuthenticated ?? false)
        {
            <div class="position-absolute start-0">
                <form asp-controller="Auth"
                      asp-action="Logout"
                      method="post"
                      class="d-inline">
                    @Html.AntiForgeryToken()
                    <button type="submit" class="btn btn-secondary">
                        Log out
                    </button>
                </form>
            </div>
        }

        @* MIDTEN: eksisterende knapper, 100% sentrert *@
        <div class="d-flex justify-content-center gap-3">
            <a asp-controller="Obstacle" asp-action="DataForm" class="btn btn-primary">Register Obstacle</a>
            <a asp-controller="Obstacle" asp-action="Overview"   class="btn btn-primary">Overview</a>
        </div>
    </div>
}

@section Scripts {
    <script>
        var map = L.map('map').setView([58.1467, 7.9956], 13); // kart lokasjon til Kristiansand
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; OpenStreetMap contributors'
        }).addTo(map);
        window.addEventListener('resize', function(){ map.invalidateSize(); });
    </script>
}